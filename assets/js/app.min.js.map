{"version":3,"sources":["app.js"],"names":["window","addEventListener","Vue","component","template","props","computed","formattedDate","moment","this","date","format","app","el","data","eventItems","filteredEvents","sortOrder","startDate","endDate","selectedFilter","filters","period","title","filteredEventCount","Object","keys","length","methods","applyFilter","year","month","week","filter","val","isSame","isBetween","sortItems","sort","a","b","dateA","dateB","isBefore","created","$","ajax","url","done","trumpenings","eventDate","sourceEvents","push","items","mounted","daterangepicker","on","ev","picker"],"mappings":"YAAAA,QAAOC,iBAAiB,OAAQ,WAC5BC,IAAIC,UAAU,OACZC,SAAU,mRAQVC,OAAQ,QAAS,QACjBC,UACIC,cAAe,WACX,MAAOC,QAAOC,KAAKC,MAAMC,OAAO,qBAK1CT,IAAIC,UAAU,eACZC,SAAU,2IAKVC,OAAQ,UAGV,IAAIO,GAAM,GAAIV,MACVW,GAAI,OACJC,MACIC,cACAC,kBACAC,UAAW,OACXC,UAAWV,SACXW,QAASX,SACTY,eAAgB,QAChBC,UACKC,OAAW,QAASC,MAAU,UAC9BD,OAAW,OAAQC,MAAU,cAC7BD,OAAW,QAASC,MAAU,eAC9BD,OAAW,OAAQC,MAAU,cAC7BD,OAAW,SAAUC,MAAU,gBAGxCjB,UACIkB,mBAAoB,WAChB,MAAOC,QAAOC,KAAKjB,KAAKO,gBAAgBW,SAGhDC,SACIC,YAAa,WACT,GAAIjB,GAAMH,KAENC,EAAOF,SACPsB,EAAOpB,EAAKoB,OACZC,EAAQrB,EAAKqB,QACbC,EAAOtB,EAAKsB,MAGhB,QADAvB,KAAKO,kBACEP,KAAKW,gBACR,IAAK,QACDX,KAAKO,eAAiBP,KAAKM,WAAWkB,OAAO,SAASC,GAClD,MAAOA,GAAIxB,KAAKyB,OAAOzB,EAAM,MAEjC,MACJ,KAAK,OACDD,KAAKO,eAAiBP,KAAKM,WAAWkB,OAAO,SAASC,GAClD,MAAOA,GAAIxB,KAAKsB,QAAUA,GAAQE,EAAIxB,KAAKoB,QAAUA,GAEzD,MACJ,KAAK,QACDrB,KAAKO,eAAiBP,KAAKM,WAAWkB,OAAO,SAASC,GAClD,MAAOA,GAAIxB,KAAKqB,SAAWA,GAASG,EAAIxB,KAAKoB,QAAUA,GAE3D,MACJ,KAAK,OACDrB,KAAKO,eAAiBP,KAAKM,WAAWkB,OAAO,SAASC,GAClD,MAAOA,GAAIxB,KAAKoB,QAAUA,GAE9B,MACJ,KAAK,SACDlB,EAAII,eAAiBJ,EAAIG,WAAWkB,OAAO,SAASC,GAChD,MAAGtB,GAAIM,UAAUiB,OAAOvB,EAAIO,SACjBe,EAAIxB,KAAKyB,OAAOzB,EAAM,KAE1BwB,EAAIxB,KAAK0B,UAAUxB,EAAIM,UAAWN,EAAIO,QAAS,IAAK,QAMvEP,EAAIyB,aAERA,UAAW,WACPzB,EAAII,eAAesB,KAAK,SAASC,EAAEC,GAC/B,GAAIC,GAAQjC,OAAO+B,EAAE7B,MACjBgC,EAAQlC,OAAOgC,EAAE9B,KAErB,IAAoB,QAAjBE,EAAIK,UAAoB,CACvB,GAAGwB,EAAME,SAASD,GAAS,MAAO,EAClC,IAAGA,EAAMC,SAASF,GAAS,OAAO,EAEtC,MAAGA,GAAME,SAASD,IAAgB,EAC/BA,EAAMC,SAASF,GAAgB,EAAlC,WAKZG,QAAS,WAELC,EAAEC,MACEC,IAAK,0BACNC,KAAK,SAASlC,GAEb,GAAImC,GAAcnC,EAAMA,IAGxB,KAAI,GAAIoC,KAAaD,GAAY,CAC7B,GAAIvC,GAAOF,OAAO0C,GACdC,EAAeF,EAAYC,EAE/BtC,GAAIG,WAAWqC,MACX1C,KAASA,EACT2C,MAAUF,IAGlBvC,EAAIiB,iBAGZyB,QAAS,WACL,GAAI1C,GAAMH,IACVoC,GAAE,cAAcU,kBAChBV,EAAE,cAAcW,GAAG,wBAAyB,SAASC,EAAIC,GACrD9C,EAAIM,UAAYwC,EAAOxC,UACvBN,EAAIO,QAAUuC,EAAOvC,QACrBP,EAAIiB","file":"app.min.js","sourcesContent":["window.addEventListener('load', function () {\n    Vue.component('day', {\n      template: '\\\n        <div>\\\n            <h2 class=\"u-textColor--black-light\">{{ formattedDate }}</h2>\\\n            <ul class=\"c-list\" style=\"list-style-type: disc;\">\\\n                <daily-event v-for=\"event in items\" v-bind:event=\"event\"></daily-event>\\\n            </ul>\\\n        </div>\\\n      ',\n      props: ['items', 'date'],\n      computed: {\n          formattedDate: function(){\n              return moment(this.date).format(\"MMMM DD, YYYY\");\n          }\n      }\n    })\n\n    Vue.component('daily-event', {\n      template: '\\\n          <li class=\"c-list__item\">\\\n            <a v-bind:href=\"event.url\" target=\"_blank\" v-html=\"event.title\"></a>\\\n          </li>\\\n      ',\n      props: ['event'],\n    })\n\n    var app = new Vue({\n        el: \"#app\",\n        data: {\n            eventItems: [],\n            filteredEvents: [],\n            sortOrder: 'desc',\n            startDate: moment(),\n            endDate: moment(),\n            selectedFilter: 'today',\n            filters: [\n                {\"period\" : \"today\", \"title\" : \"Today\"},\n                {\"period\" : \"week\", \"title\" : \"This Week\"},\n                {\"period\" : \"month\", \"title\" : \"This Month\"},\n                {\"period\" : \"year\", \"title\" : \"This Year\"},\n                {\"period\" : \"custom\", \"title\" : \"Date Range\"},\n            ]\n        },\n        computed: {\n            filteredEventCount: function(){\n                return Object.keys(this.filteredEvents).length;\n            }\n        },\n        methods: {\n            applyFilter: function(){\n                var app = this;\n\n                var date = moment();\n                var year = date.year();\n                var month = date.month();\n                var week = date.week();\n\n                this.filteredEvents = [];\n                switch(this.selectedFilter){\n                    case 'today':\n                        this.filteredEvents = this.eventItems.filter(function(val){\n                            return val.date.isSame(date, 'd');\n                        });\n                        break;\n                    case 'week':\n                        this.filteredEvents = this.eventItems.filter(function(val){\n                            return val.date.week() == week && val.date.year() == year;\n                        });\n                        break;\n                    case 'month':\n                        this.filteredEvents = this.eventItems.filter(function(val){\n                            return val.date.month() == month && val.date.year() == year;\n                        });\n                        break;\n                    case 'year':\n                        this.filteredEvents = this.eventItems.filter(function(val){\n                            return val.date.year() == year;\n                        });\n                        break;\n                    case 'custom':\n                        app.filteredEvents = app.eventItems.filter(function(val){\n                            if(app.startDate.isSame(app.endDate)){\n                                return val.date.isSame(date, 'd');\n                            }\n                            return val.date.isBetween(app.startDate, app.endDate, 'd', '[]');\n                        });\n                    break;\n                    default:\n                        break;\n                }\n                app.sortItems();\n            },\n            sortItems: function(){\n                app.filteredEvents.sort(function(a,b){\n                    var dateA = moment(a.date);\n                    var dateB = moment(b.date);\n\n                    if(app.sortOrder == 'desc'){\n                        if(dateA.isBefore(dateB)) {return 1;}\n                        if(dateB.isBefore(dateA)) {return -1;}\n                    }\n                    if(dateA.isBefore(dateB)) {return -1;}\n                    if(dateB.isBefore(dateA)) {return 1;}\n                });\n            }\n\n        },\n        created: function(){\n            // Get Events data\n            $.ajax({\n                url: \"data/trumpenings.json\",\n            }).done(function(data){\n\n                var trumpenings = data? data : [];\n\n                // Build out an array of objects for all dates and their associated articles/items\n                for(var eventDate in trumpenings){\n                    var date = moment(eventDate);\n                    var sourceEvents = trumpenings[eventDate];\n\n                    app.eventItems.push({\n                        \"date\" : date,\n                        \"items\" : sourceEvents,\n                    });\n                }\n                app.applyFilter();\n            });\n        },\n        mounted: function(){\n            var app = this;\n            $('#daterange').daterangepicker();\n            $('#daterange').on('apply.daterangepicker', function(ev, picker) {\n                app.startDate = picker.startDate;\n                app.endDate = picker.endDate;\n                app.applyFilter();\n            });\n        }\n\n    })\n})\n"]}